% migrate from https://github.com/kidozh/LaTeX-Template-For-NPU-Thesis/blob/master/example/thesis-setting.tex

\usepackage{geometry}
    % 按照官方的word
    \geometry{left=3.18cm,right=3.18cm,top=2.54cm,bottom=2.54cm}
    % 普通A4格式缩进
    % \geometry{left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm}
    
%----------------------------------必要库支持----------------------------------%
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathrsfs}
\usepackage{bm}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{layouts}
\usepackage[numbers,sort&compress]{natbib}
\usepackage{clrscode}
%------------------------------------------------------------------------------%

%--------------------------------设置标题与目录--------------------------------%
\usepackage{titlesec}
\usepackage{titletoc}

%--------------------------------添加书签超链接--------------------------------%
\usepackage[unicode=true,colorlinks=false,pdfborder={0 0 0}]{hyperref}
% 在此处修改打开文件操作
%\hypersetup{
%	% bookmarks=true,         % show bookmarks bar?
%	pdftoolbar=true,        % show Acrobat’s toolbar?
%	pdfmenubar=true,        % show Acrobat’s menu?
%	pdffitwindow=true,      % window fit to page when opened
%	pdfstartview={FitH},    % fits the width of the page to the window
%	pdfnewwindow=true,      % links in new PDF window
%}
% 在此处添加文章基础信息
%\hypersetup{
%	pdftitle={title},
%	pdfauthor={author},
%	pdfsubject={subject},
%	pdfcreator={creator},
%	pdfproducer={producer},
%	pdfkeywords={key1  key2  key3}
%}
%------------------------------------------------------------------------------%

%---------------------------------设置字体大小---------------------------------%
\usepackage{type1cm}
% 字号与行距，统一前缀s(a.k.a size)
\newcommand{\sChuhao}{\fontsize{42pt}{63pt}\selectfont}         % 初号, 1.5倍
\newcommand{\sXiaochu}{\fontsize{36pt}{36pt}\selectfont}     	% 小初, 单倍
\newcommand{\sYihao}{\fontsize{26pt}{36pt}\selectfont}          % 一号, 1.4倍
\newcommand{\sXiaoyi}{\fontsize{24pt}{24pt}\selectfont}      	% 小一, 单倍 不是很确定啊！！！
\newcommand{\sErhao}{\fontsize{22pt}{28pt}\selectfont}          % 二号, 1.25倍
\newcommand{\sXiaoer}{\fontsize{18pt}{18pt}\selectfont}         % 小二, 单倍
\newcommand{\sSanhao}{\fontsize{16pt}{24pt}\selectfont}         % 三号, 1.5倍
\newcommand{\sXiaosan}{\fontsize{15pt}{22pt}\selectfont}        % 小三, 1.5倍
\newcommand{\sSihao}{\fontsize{14pt}{21pt}\selectfont}          % 四号, 1.5倍
\newcommand{\sHalfXiaosi}{\fontsize{13pt}{19.5pt}\selectfont}   % 半小四, 1.5倍
\newcommand{\sXiaosi}{\fontsize{12pt}{14.4pt}\selectfont}       % 小四, 1.25倍
\newcommand{\sLargeWuhao}{\fontsize{11pt}{11pt}\selectfont}     % 大五, 单倍
\newcommand{\sWuhao}{\fontsize{10.5pt}{10.5pt}\selectfont}      % 五号, 单倍
\newcommand{\sXiaowu}{\fontsize{9pt}{9pt}\selectfont}           % 小五, 单倍
%------------------------------------------------------------------------------%

%---------------------------------设置中文字体---------------------------------%
\usepackage{fontspec}
\usepackage[SlantFont,BoldFont,CJKchecksingle,CJKnumber]{xeCJK}
% 推荐使用Noto Sans / Serif 系列
\newcommand\SongFont{SimSun} % 宋体
\newcommand\HeiFont{Noto Sans CJK SC} % 思源黑体
\newcommand\KaiFont{KaiTi_GB2312} % 学校使用的是楷体_GB2312
\newcommand\NotoSongFont{Noto Serif CJK SC} % 思源宋体
\newcommand\TimeFont{Times New Roman} % Times New Roman
\newcommand\codeFont{Noto Sans Mono CJK SC} % Ubuntu 上不自带consolas
% 设置字体
\defaultfontfeatures{Mapping=tex-text}
% 设置英文字体为Times New Roman
\setmainfont{\TimeFont}

% 设置中文字体
\setCJKmainfont[ItalicFont=\KaiFont, BoldFont=\HeiFont]{\SongFont}
\setCJKsansfont[ItalicFont=\KaiFont, BoldFont=\HeiFont]{\SongFont}
\setCJKmonofont{\codeFont}
\setmonofont{\codeFont}
% 设置字体族
\setCJKfamilyfont{song}{\SongFont}      % 宋体  
\setCJKfamilyfont{hei}{\HeiFont}       % 黑体  
\setCJKfamilyfont{kai}{\KaiFont}       % 楷体  
\setCJKfamilyfont{fang}{\NotoSongFont}      % 仿宋体 -> 思源宋体
% 用于页眉学校名，特殊字体，powerby https://github.com/ecomfe/fonteditor
% 不需要校徽，所以不需要这个
% \setCJKfamilyfont{nwpu}{nwpuname}
% 新建字体命令，统一前缀f(a.k.a font)
\newcommand{\fSong}{\CJKfamily{song}}
\newcommand{\fHei}{\CJKfamily{hei}}
\newcommand{\fFang}{\CJKfamily{fang}}
\newcommand{\fKai}{\CJKfamily{kai}}
% \newcommand{\fNWPU}{\CJKfamily{nwpu}}
%------------------------------------------------------------------------------%

%------------------------------添加插图与表格控制------------------------------%
\usepackage{graphicx}
\usepackage[font=small,labelsep=quad]{caption}
\usepackage{wrapfig}
\usepackage{multirow,makecell}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{setspace}
%------------------------------------------------------------------------------%


%---------------------------------添加列表控制---------------------------------%
\usepackage{enumerate}
\usepackage{enumitem}
%------------------------------------------------------------------------------%

%---------------------------------设置引用格式---------------------------------%
\renewcommand\figureautorefname{图}
\renewcommand\tableautorefname{表}
\renewcommand\equationautorefname{式}
\newcommand\myreference[1]{[\ref{#1}]}
\newcommand\eqrefe[1]{式(\ref{#1})}
\renewcommand\theequation{\thechapter.\arabic{equation}}
% 增加 \ucite 命令使显示的引用为上标形式
\newcommand{\ucite}[1]{$^{\mbox{\scriptsize \cite{#1}}}$}
%------------------------------------------------------------------------------%


%--------------------------------设置定理类环境--------------------------------%
\usepackage[amsmath,thmmarks]{ntheorem}
\newtheorem{myexample}{例}
\newtheorem{thm}{定理}
%------------------------------------------------------------------------------%

%--------------------------设置中文段落缩进与正文版式--------------------------%
%\XeTeXlinebreaklocale "zh"       %使用中文的换行风格
%\XeTeXlinebreakskip = 0pt plus 1pt    %调整换行逻辑的弹性大小
%\xeCJKcaption{gb_452}
\usepackage{indentfirst}
\setlength{\parindent}{2.5em}
\renewcommand\contentsname{目~~~~录}
\newcommand\chaptername{\CJKprechaptername\CJKthechapter\CJKchaptername}
\setlength{\parskip}{3pt plus1pt minus1pt} % 段落间距
\renewcommand{\baselinestretch}{1.25} % 行距
%------------------------------------------------------------------------------%

%----------------------------设置段落标题与目录格式----------------------------%
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}


% 正文中标题格式，毋需标号
% \titleformat{\section}[hang]{\fHei \sf \sSihao}
%     {\sSihao }{0.5em}{}{}
% \titleformat{\subsection}[hang]{\fHei \sf \sHalfXiaosi}
%     {\sHalfXiaosi }{0.5em}{}{}
% \titleformat{\subsubsection}[hang]{\fHei \sf}
%     {\thesubsubsection }{0.5em}{}{}
% 正文中标题格式，需要标号

\renewcommand{\chaptername}{第\CJKnumber{\thechapter}章}
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}
\renewcommand{\bibname}{参考文献}
\renewcommand{\contentsname}{目~录}
\newcommand{\keywords}[1]{\textbf{关~键~词}：#1}

\titleformat{\chapter}[hang]{\normalfont\sSanhao\filcenter\fHei\bf}
{\sSanhao{\chaptertitlename}}{20pt}{\sSanhao}
\titleformat{\section}[hang]{\fHei \bf \sSanhao}
{\sSanhao \thesection}{0.5em}{\thesection}{}
\titleformat{\subsection}[hang]{\fSong \sSanhao}
{\sSanhao \thesubsection}{0.5em}{\thesubsection}{}
\titleformat{\subsubsection}[hang]{\fHei \bf}
{\thesubsubsection }{0.5em}{\thesubsubsection}{}
% 目录格式
\titlespacing{\chapter}{0pt}{-3ex  plus .1ex minus .2ex}{0.25em}
\titlespacing{\section}{0pt}{-0.92em}{0em}
\titlespacing{\subsection}{0pt}{-0.25em}{0em}
\titlespacing{\subsubsection}{0pt}{0.25em}{0pt}
% 缩小目录中各级标题之间的缩进
\dottedcontents{chapter}[0.0em]{\fHei\vspace{0.5em}}{0.0em}{5pt}
\dottedcontents{section}[1.16cm]{}{1.8em}{5pt}
\dottedcontents{subsection}[2.00cm]{}{2.7em}{5pt}
\dottedcontents{subsubsection}[2.86cm]{}{3.4em}{5pt}
%------------------------------------------------------------------------------%


%---------------------------------设置页眉页脚---------------------------------%
\usepackage{fancyhdr}
\usepackage{fancyref}
\addtolength{\headsep}{-0.1cm}          %页眉位置
\addtolength{\footskip}{-0.1cm}         %页脚位置
\addtolength{\topmargin}{0.5cm}
\newcommand{\makeheadrule}{
	\makebox[0pt][l]{\rule[.7\baselineskip]{\headwidth}{0.8pt}}
	\vskip-.8\baselineskip
}
\makeatletter
\renewcommand{\headrule}{%
	{
		\if@fancyplain\let\headrulewidth\plainheadrulewidth\fi
		\makeheadrule
	}
}
% \pagestyle{fancy}
\fancyhf{}
\fancyfoot[C,C]{\sWuhao-~\thepage~-}
% 后续文字可以自行修改
% 不需要页眉页脚
% \chead{\sSanhao\raisebox{0.04cm}{\fNWPU 西北工业大学} \fSong \bfseries{本科毕业设计论文}}
%------------------------------------------------------------------------------%

%-------------------------------数学符号格式控制-------------------------------%
\usepackage{bm}
\def\mathbi#1{\textbf{\em #1}}
% Caligraphic letters:      \mathcal{A}
% Mathbb letters:           \mathbb{A}
% Mathfrak letters:         \mathfrak{A}
% Math Sans serif letters:  \mathsf{A}
% MAth bold letters:        \mathbf{A}
% Math bold italic letters: \mathbi{A}
%------------------------------------------------------------------------------%

%----------------------------------添加代码控制--------------------------------%
\usepackage{listings}
\lstset{
	basicstyle=\footnotesize\ttfamily,
	%numbers=left,
	%numberstyle=\tiny,
	%numbersep=5pt,
	tabsize=4,
	extendedchars=true,
	breaklines=true,
	keywordstyle=\color{blue},
	numberstyle=\color{purple},
	commentstyle=\color{olive},
	stringstyle=\color{orange}\ttfamily,
	showspaces=false,
	showtabs=false,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	showstringspaces=false
	escapeinside=`', %逃逸字符(1左面的键)，用于显示中文
}
\renewcommand{\lstlistingname}{CODE}
\lstloadlanguages{% Check Dokumentation for further languages, page 12
	Pascal, C++, Java, Ruby, Python, Matlab, R
}
%------------------------------------------------------------------------------%

\newcommand{\chref}[1]{\CJKnumber{\ref{#1}}}
%adjust Chinese parenthesis space
\newcommand{\KH}[1]{\!\!（#1）\!\!}
\newcommand\dlmu@underline[2][5cm]{\hskip1pt\underline{\hb@xt@ #1{\hss#2\hss}}\hskip3pt}
\let\coverunderline\dlmu@underline

\makeatletter
\makeatother

%-----abstract----
\renewcommand{\abstractname}{\sXiaosi \textbf{摘~~~~要}}

% \usepackage{ctexart}

\endinput
% 这是简单的 thesis(article) 的导言区设置，不能单独编译。

